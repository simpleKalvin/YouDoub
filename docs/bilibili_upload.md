# BiliBili æŠ•ç¨¿åŠŸèƒ½

## æ¦‚è¿°

æ–°å¢äº†ä¸€é”®æŠ•ç¨¿åŠŸèƒ½ï¼Œè®©ä» YouTube ä¸‹è½½ã€ç¿»è¯‘å­—å¹•åˆ°ä¸Šä¼  BiliBili çš„å®Œæ•´æµç¨‹æ›´åŠ ä¾¿æ·ã€‚

## æ–°å¢åŠŸèƒ½

### 1. ä¸€é”®æŠ•ç¨¿å‘½ä»¤ (`submit`)

**ç”¨é€”**: è‡ªåŠ¨æ£€æŸ¥æ–‡ä»¶ã€ç”Ÿæˆé…ç½®å¹¶ä¸Šä¼ åˆ° BiliBili

**å‘½ä»¤æ ¼å¼**:
```bash
youdoub bili submit [é€‰é¡¹]
```

**å‚æ•°**:
- `--title`: è§†é¢‘æ ‡é¢˜ï¼ˆé»˜è®¤ä» meta.json è¯»å–ï¼‰
- `--desc`: è§†é¢‘æè¿°
- `--tags`: é€—å·åˆ†éš”çš„æ ‡ç­¾
- `--tid`: BiliBili åˆ†åŒºID
- `--subtitle-mode`: å­—å¹•æ¨¡å¼ (`zh` æˆ– `bilingual`)
- `--force-config`: å¼ºåˆ¶é‡æ–°ç”Ÿæˆé…ç½®
- `--biliup-bin`: biliup å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„

**ç¤ºä¾‹**:
```bash
# åŸºæœ¬ä½¿ç”¨
youdoub bili submit --title "æˆ‘çš„è§†é¢‘" --desc "è§†é¢‘æè¿°"

# å®Œæ•´å‚æ•°
youdoub bili submit \
  --title "YouTube è§†é¢‘ç¿»è¯‘" \
  --desc "è¿™æ˜¯æˆ‘ç¿»è¯‘çš„ä¸€ä¸ªå¾ˆæœ‰è¶£çš„è§†é¢‘" \
  --tags "ç§‘æŠ€,æ•™ç¨‹,ç¿»è¯‘" \
  --tid 123 \
  --subtitle-mode zh
```

### 2. å·¥ä½œæµç¨‹æŒ‡å— (`workflow`)

**ç”¨é€”**: æ˜¾ç¤ºå®Œæ•´çš„ YouDoub åˆ° BiliBili å·¥ä½œæµç¨‹

```bash
youdoub bili workflow
```

**è¾“å‡ºç¤ºä¾‹**:
```
ğŸš€ YouDoub å®Œæ•´å·¥ä½œæµç¨‹

ç¬¬ä¸€é˜¶æ®µ: å‡†å¤‡è§†é¢‘å’Œå­—å¹•
1. ä¸‹è½½ YouTube è§†é¢‘:
   youdoub yt dl "https://youtube.com/watch?v=VIDEO_ID"

2. è·å–å­—å¹• (å¯é€‰):
   youdoub yt sub

3. ç¿»è¯‘å­—å¹•:
   youdoub yt translate-subs --lang zh-CN --backend deepseek --whole-file --merge-timelines --model deepseek-reasoner

ç¬¬äºŒé˜¶æ®µ: ç”Ÿæˆæœ€ç»ˆè¾“å‡º
4. ç”ŸæˆåŒè¯­å­—å¹• (å¯é€‰):
   create_bilingual_subs.py

ç¬¬ä¸‰é˜¶æ®µ: æŠ•ç¨¿åˆ° BiliBili
5. ä¸€é”®æŠ•ç¨¿ (æ¨è):
   youdoub bili submit --title "è§†é¢‘æ ‡é¢˜" --desc "è§†é¢‘æè¿°" --tags "æ ‡ç­¾1,æ ‡ç­¾2" --tid 123
```

## å·¥ä½œæµç¨‹

### å®Œæ•´æµç¨‹

1. **ä¸‹è½½è§†é¢‘**
   ```bash
   youdoub yt dl "https://youtube.com/watch?v=VIDEO_ID"
   ```

2. **ç¿»è¯‘å­—å¹•**
   ```bash
   youdoub yt translate-subs --lang zh-CN --backend deepseek --whole-file --merge-timelines --model deepseek-reasoner
   ```

3. **ä¸€é”®æŠ•ç¨¿**
   ```bash
   youdoub bili submit --title "æ ‡é¢˜" --desc "æè¿°" --tags "æ ‡ç­¾"
   ```

### æ–‡ä»¶æ£€æŸ¥

`submit` å‘½ä»¤ä¼šè‡ªåŠ¨æ£€æŸ¥ä»¥ä¸‹æ–‡ä»¶ï¼š

- âœ… **å¿…éœ€**: `video.mp4` (è§†é¢‘æ–‡ä»¶)
- âš ï¸ **å¯é€‰**: `out/zh-Hans.srt` æˆ– `out/bilingual.srt` (å­—å¹•æ–‡ä»¶)

å¦‚æœç¼ºå°‘å¿…éœ€æ–‡ä»¶ï¼Œä¼šæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯å’Œå®Œæ•´çš„å·¥ä½œæµç¨‹æç¤ºã€‚

## æŠ€æœ¯å®ç°

### è‡ªåŠ¨é…ç½®ç”Ÿæˆ

- è‡ªåŠ¨è¯»å– `meta.json` ä¸­çš„è§†é¢‘æ ‡é¢˜
- æ ¹æ®å­—å¹•æ¨¡å¼é€‰æ‹©åˆé€‚çš„å­—å¹•æ–‡ä»¶
- ç”Ÿæˆæ ‡å‡†çš„ biliup YAML é…ç½®æ–‡ä»¶

### é”™è¯¯å¤„ç†

- å®Œæ•´çš„æ–‡ä»¶å­˜åœ¨æ€§æ£€æŸ¥
- æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯å’Œè§£å†³å»ºè®®
- ä¸Šä¼ ç»“æœçš„è¯¦ç»†è®°å½•

### é…ç½®ç¤ºä¾‹

ç”Ÿæˆçš„ `bili/biliup.yaml` ç¤ºä¾‹ï¼š

```yaml
# Auto-generated by youdoub

common:
  title: "è§†é¢‘æ ‡é¢˜"
  desc: "è§†é¢‘æè¿°"
  tid: 123
  tags: ["æ ‡ç­¾1", "æ ‡ç­¾2"]

videos:
  - path: "video.mp4"

# Subtitle hint (may require manual integration depending on biliup version)
subtitle:
  path: "out/zh-Hans.srt"
```

## æµ‹è¯•

è¿è¡Œæµ‹è¯•æ¥éªŒè¯åŠŸèƒ½ï¼š

```bash
# è¿è¡Œ BiliBili åŠŸèƒ½æµ‹è¯•
make test-bili

# æˆ–ç›´æ¥è¿è¡Œ
python test_bili_submit.py
```

## å…¼å®¹æ€§

- âœ… å‘åå…¼å®¹ç°æœ‰çš„ `config` å’Œ `upload` å‘½ä»¤
- âœ… æ”¯æŒæ‰€æœ‰ç°æœ‰çš„ CLI å‚æ•°
- âœ… è‡ªåŠ¨å¤„ç†å­—å¹•æ–‡ä»¶è·¯å¾„è§£æ

## ä½¿ç”¨å»ºè®®

### æ¨èç”¨æ³•

1. **æ–°ç”¨æˆ·**: ä½¿ç”¨ `youdoub bili workflow` æŸ¥çœ‹å®Œæ•´æµç¨‹
2. **å¿«é€ŸæŠ•ç¨¿**: ä½¿ç”¨ `youdoub bili submit` ä¸€é”®å®Œæˆ
3. **é«˜çº§ç”¨æˆ·**: ä»å¯ä½¿ç”¨åˆ†æ­¥çš„ `config` + `upload` æ–¹å¼è¿›è¡Œç²¾ç»†æ§åˆ¶

### æ³¨æ„äº‹é¡¹

- ç¡®ä¿å·²å®‰è£…å¹¶é…ç½® biliup
- æ£€æŸ¥ BiliBili åˆ†åŒºID (`tid`) æ˜¯å¦æ­£ç¡®
- æ ‡ç­¾æ ¼å¼ä¸ºé€—å·åˆ†éš”ï¼Œæ— ç©ºæ ¼

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **"æ‰¾ä¸åˆ°è§†é¢‘æ–‡ä»¶"**
   - ç¡®ä¿å…ˆè¿è¡Œäº† `youdoub yt dl` ä¸‹è½½è§†é¢‘

2. **"é…ç½®ç”Ÿæˆå¤±è´¥"**
   - æ£€æŸ¥å·¥ä½œç›®å½•æƒé™
   - ç¡®è®¤ biliup ç‰ˆæœ¬å…¼å®¹æ€§

3. **ä¸Šä¼ å¤±è´¥**
   - æ£€æŸ¥ biliup é…ç½®å’Œ BiliBili è´¦å·è®¾ç½®
   - æŸ¥çœ‹ `bili/upload_result.json` è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯